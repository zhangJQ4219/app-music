(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-385b126e"],{"8eee":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"music-list",on:{touchmove:function(t){t.preventDefault()}}},[s("div",{staticClass:"fontFamily back-icon",on:{click:t.back}},[t._v("")]),s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.singerList.singer_pic,expression:"singerList.singer_pic",arg:"background-image"}],ref:"bgImg",staticClass:"bg-img"}),s("div",{ref:"layer",staticClass:"bg-layer"}),s("m-scroll",{ref:"list",staticClass:"list",attrs:{data:t.singerListDetails,"listen-scroll":t.listenScroll,"probe-type":t.probeType},on:{scroll:t.scroll}},[s("div",{staticClass:"list-wrapper"},t._l(t.singerListDetails,function(i,e){return s("div",{key:i.songName,staticClass:"music",on:{click:function(s){return t.playMusic(e,i)}}},[s("p",{staticClass:"song-name"},[t._v(t._s(e+1)+" "+t._s(i.title))]),s("p",{staticClass:"song-singer"},[t._v(t._s(i.singers)+"·"+t._s(i.title))])])}),0)])],1)},n=[],a=(s("ac6a"),s("cebc")),r=s("2f62"),o=s("1857"),l=s("0674"),c=s("ac0d"),g={mixins:[c["a"]],components:{MScroll:l["a"]},data:function(){return{singerListDetails:[],title:"",scrollY:0,imgHeight:0}},created:function(){this.probeType=3,this.listenScroll=!0,this.singerList.singer_mid||this.$router.push("/singer"),this.$route.params.id&&(console.log("请求"),this.getList(this.$route.params.id))},mounted:function(){this.imgHeight=this.$refs.bgImg.clientHeight,this.$refs.list.$el.style.top="".concat(this.imgHeight,"px")},computed:Object(a["a"])({},Object(r["b"])(["singerList"])),watch:{scrollY:function(t){var i=46-this.imgHeight,s=Math.max(i,t),e=0,n=1,a=Math.abs(t/this.imgHeight);t>0&&(n=1+a,e=10),this.$refs.bgImg.style["transform"]="scale(".concat(n,")"),this.$refs.layer.style["transform"]="translate3d(0,".concat(s,"px,0)"),t<i?(e=10,this.$refs.bgImg.style.paddingTop=0,this.$refs.bgImg.style.height="46px",this.$refs.bgImg.style["background-position-y"]="17.3%"):(this.$refs.bgImg.style.paddingTop="70%",this.$refs.bgImg.style.height=0,this.$refs.bgImg.style["background-position-y"]="50%"),this.$refs.bgImg.style.zIndex=e}},methods:{handlePlayList:function(t){var i=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=i,this.$refs.list.refresh()},back:function(){this.$router.push("/singer")},scroll:function(t){this.scrollY=t.y},getList:function(t){var i=this,s={singer_mid:t};Object(o["i"])(s).then(function(t){var s=t.data.singer.data.songlist;console.log(t),s.forEach(function(t){t.singers=i._getSinger(t.singer),t.imgUrlBig="https://y.gtimg.cn/music/photo_new/T002R800x800M000".concat(t.album.mid,".jpg?max_age=2592000"),t.imgUrlSmall="https://y.gtimg.cn/music/photo_new/T002R90x90M000".concat(t.album.mid,".jpg?max_age=2592000")}),i.singerListDetails=s})},playMusic:function(t,i){this.$store.commit("SET_PLAY_LIST",this.singerListDetails),this.$store.commit("SET_CURRENT_INDEX",t),this.$store.commit("SET_FULL_SCREEN",!0),this.$store.commit("SET_PLAYING",!0)},_getSinger:function(t){var i=[];return t?(t.forEach(function(t){i.push(t.name)}),i.join("/")):""}}},h=g,u=(s("ab8e"),s("2877")),m=Object(u["a"])(h,e,n,!1,null,"3fa154e2",null);i["default"]=m.exports},9165:function(t,i,s){},ab8e:function(t,i,s){"use strict";var e=s("9165"),n=s.n(e);n.a},ac0d:function(t,i,s){"use strict";s.d(i,"a",function(){return a});var e=s("cebc"),n=s("2f62"),a={computed:Object(e["a"])({},Object(n["b"])(["playList"])),mounted:function(){this.playList.length>0&&this.handlePlayList(this.playList)},watch:{playList:function(t){this.playList.length>0&&this.handlePlayList(this.playList)}},methods:{handlePlayList:function(){throw new Error("handlePlayList is not defined in components")}}}},ac6a:function(t,i,s){for(var e=s("cadf"),n=s("0d58"),a=s("2aba"),r=s("7726"),o=s("32e9"),l=s("84f2"),c=s("2b4c"),g=c("iterator"),h=c("toStringTag"),u=l.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(m),p=0;p<f.length;p++){var L,d=f[p],y=m[d],b=r[d],S=b&&b.prototype;if(S&&(S[g]||o(S,g,u),S[h]||o(S,h,d),l[d]=u,y))for(L in e)S[L]||a(S,L,e[L],!0)}}}]);
//# sourceMappingURL=chunk-385b126e.b6a397ec.js.map