(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-faa7c16c"],{"3c63":function(t,i,e){"use strict";var s=e("914e"),a=e.n(s);a.a},"914e":function(t,i,e){},ac0d:function(t,i,e){"use strict";e.d(i,"a",function(){return n});var s=e("cebc"),a=e("2f62"),n={computed:Object(s["a"])({},Object(a["b"])(["playList"])),mounted:function(){this.playList.length>0&&this.handlePlayList(this.playList)},watch:{playList:function(t){this.playList.length>0&&this.handlePlayList(this.playList)}},methods:{handlePlayList:function(){throw new Error("handlePlayList is not defined in components")}}}},ac6a:function(t,i,e){for(var s=e("cadf"),a=e("0d58"),n=e("2aba"),c=e("7726"),r=e("32e9"),o=e("84f2"),l=e("2b4c"),u=l("iterator"),g=l("toStringTag"),h=o.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=a(m),p=0;p<f.length;p++){var L,d=f[p],y=m[d],b=c[d],S=b&&b.prototype;if(S&&(S[u]||r(S,u,h),S[g]||r(S,g,d),o[d]=h,y))for(L in s)S[L]||n(S,L,s[L],!0)}},e757:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"music-list",on:{touchmove:function(t){t.preventDefault()}}},[e("div",{staticClass:"fontFamily back-icon",on:{click:t.back}},[t._v("")]),e("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.musicList.picUrl,expression:"musicList.picUrl",arg:"background-image"}],ref:"bgImg",staticClass:"bg-img"}),e("div",{ref:"layer",staticClass:"bg-layer"}),e("m-scroll",{ref:"list",staticClass:"list",attrs:{data:t.topListDetails,"listen-scroll":t.listenScroll,"probe-type":t.probeType},on:{scroll:t.scroll}},[e("div",{staticClass:"list-wrapper"},t._l(t.topListDetails,function(i,s){return e("div",{key:i.songName,staticClass:"music",on:{click:function(e){return t.playMusic(s,i)}}},[e("p",{staticClass:"song-name"},[t._v(t._s(s+1)+" "+t._s(i.title))]),e("p",{staticClass:"song-singer"},[t._v(t._s(i.singers)+"·"+t._s(i.title))])])}),0)])],1)},a=[],n=(e("ac6a"),e("cebc")),c=e("2f62"),r=e("1857"),o=e("0674"),l=e("ac0d"),u={mixins:[l["a"]],components:{MScroll:o["a"]},data:function(){return{topListDetails:[],title:"",scrollY:0,imgHeight:0}},created:function(){this.probeType=3,this.listenScroll=!0,this.musicList.id||this.$router.push("/rank"),this.$route.params.id&&this.getList(this.$route.params.id)},mounted:function(){this.imgHeight=this.$refs.bgImg.clientHeight,this.$refs.list.$el.style.top="".concat(this.imgHeight,"px")},computed:Object(n["a"])({bgImg:function(){return"background-image:url(".concat(this.musicList.picUrl,")")}},Object(c["b"])(["musicList"])),watch:{scrollY:function(t){var i=46-this.imgHeight,e=Math.max(i,t),s=0,a=1,n=Math.abs(t/this.imgHeight);t>0&&(a=1+n,s=10),this.$refs.bgImg.style["transform"]="scale(".concat(a,")"),this.$refs.layer.style["transform"]="translate3d(0,".concat(e,"px,0)"),t<i?(s=10,this.$refs.bgImg.style.paddingTop=0,this.$refs.bgImg.style.height="46px"):(this.$refs.bgImg.style.paddingTop="70%",this.$refs.bgImg.style.height=0),this.$refs.bgImg.style.zIndex=s}},methods:{handlePlayList:function(t){var i=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=i,this.$refs.list.refresh()},back:function(){this.$router.push("/rank")},scroll:function(t){this.scrollY=t.y},getList:function(t){var i=this,e={id:t,day:"2019-06-10",week:"2019_22"};Object(r["d"])(e).then(function(t){i.title=t.data.data.title;var e=t.data.songInfoList;e.forEach(function(t){t.singers=i._getSinger(t.singer),t.imgUrlBig="https://y.gtimg.cn/music/photo_new/T002R800x800M000".concat(t.album.mid,".jpg?max_age=2592000"),t.imgUrlSmall="https://y.gtimg.cn/music/photo_new/T002R90x90M000".concat(t.album.mid,".jpg?max_age=2592000")}),i.$store.commit("SET_RANK_DETAILS",e),i.topListDetails=e})},playMusic:function(t,i){this.$store.commit("SET_PLAY_LIST",this.topListDetails),this.$store.commit("SET_CURRENT_INDEX",t),this.$store.commit("SET_FULL_SCREEN",!0),this.$store.commit("SET_PLAYING",!0)},_getWeek:function(){var t=new Date,i=new Date;i.setMonth(0),i.setDate(1);var e=t-i,s=Math.ceil(e/864e5),a=Math.ceil(s/7);return"".concat(t.getFullYear(),"_").concat(a)},_getNewDay:function(){var t=new Date,i="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate());return i},_getSinger:function(t){var i=[];return t?(t.forEach(function(t){i.push(t.name)}),i.join("/")):""}}},g=u,h=(e("3c63"),e("2877")),m=Object(h["a"])(g,s,a,!1,null,"57524155",null);i["default"]=m.exports}}]);
//# sourceMappingURL=chunk-faa7c16c.58455cea.js.map