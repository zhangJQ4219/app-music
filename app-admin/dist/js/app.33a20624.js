(function(t){function e(e){for(var r,i,o=e[0],a=e[1],u=e[2],l=0,f=[];l<o.length;l++)i=o[l],s[i]&&f.push(s[i][0]),s[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);d&&d(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,i=1;i<n.length;i++){var o=n[i];0!==s[o]&&(r=!1)}r&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},s={app:0},c=[];function o(t){return a.p+"js/"+({}[t]||t)+"."+{"chunk-1cf91c70":"51356337","chunk-226781bf":"7c8752b1","chunk-26d3226e":"a966e943","chunk-385b126e":"23a39d61","chunk-bc23d08e":"67b05d97","chunk-e781be9e":"117a3372","chunk-f947b5c4":"7cd69ac1","chunk-f9645fb6":"f6e7718f"}[t]+".js"}function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n={"chunk-1cf91c70":1,"chunk-226781bf":1,"chunk-26d3226e":1,"chunk-385b126e":1,"chunk-bc23d08e":1,"chunk-e781be9e":1,"chunk-f947b5c4":1,"chunk-f9645fb6":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise(function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-1cf91c70":"5a3431e3","chunk-226781bf":"b2124220","chunk-26d3226e":"2a5e861f","chunk-385b126e":"5123ca77","chunk-bc23d08e":"294cab39","chunk-e781be9e":"d9d9c95e","chunk-f947b5c4":"c2775b5f","chunk-f9645fb6":"bc58deb7"}[t]+".css",s=a.p+r,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var u=c[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===s))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){u=f[o],l=u.getAttribute("data-href");if(l===r||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||s,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete i[t],d.parentNode.removeChild(d),n(c)},d.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){i[t]=0}));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var c=new Promise(function(e,n){r=s[t]=[e,n]});e.push(r[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=o(t),u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=s[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+r+": "+i+")");c.type=r,c.request=i,n[1](c)}s[t]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0674":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper"},[t._t("default")],2)},i=[],s=(n("c5f6"),n("1fba")),c={props:{scrollX:{type:Boolean,default:!1},probeType:{type:Number,default:1},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new s["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX}),this.listenScroll){var e=this;this.scroll.on("scroll",function(t){e.$emit("scroll",t)})}this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}},o=c,a=n("2877"),u=Object(a["a"])(o,r,i,!1,null,"2c754872",null);e["a"]=u.exports},"0687":function(t,e,n){t.exports=n.p+"img/error.1b77b679.jpg"},"08f6":function(t,e,n){"use strict";var r=n("d077"),i=n.n(r);i.a},1351:function(t,e,n){},1857:function(t,e,n){"use strict";var r=n("bc3a"),i=n.n(r),s=i.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).BASE_API,timeout:15e3});s.interceptors.request.use(function(t){return t},function(t){return console.log(t),Promise.reject(t)}),s.interceptors.response.use(function(t){return Promise.resolve(t.data)},function(t){return console.error("err"+t),Promise.reject(t)});var c=s;function o(){return c({url:"/getSlider",method:"get"})}function a(){return c({url:"/getRecommend",method:"get"})}function u(t){return c({url:"/getRecommendSongs",method:"get",params:t})}function l(t){return c({url:"/getSingerList",method:"get",params:t})}function f(t){return c({url:"/getSingerDetail",method:"get",params:t})}function d(){return c({url:"/getTopList",method:"get"})}function h(t){return c({url:"/getTopListDetails",method:"get",params:t})}function m(t){return c({url:"/getSearch",method:"get",params:t})}function A(t){return c({url:"/getSearchInfo",method:"get",params:t})}function p(t){return c({url:"/getLyric",method:"get",params:t})}function g(t){return c({url:"/getSongUrl",method:"get",params:t})}function y(){return c({url:"/getHotKeys",method:"get"})}n.d(e,"k",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"j",function(){return l}),n.d(e,"i",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return h}),n.d(e,"g",function(){return m}),n.d(e,"h",function(){return A}),n.d(e,"b",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"a",function(){return y})},"56d7":function(t,e,n){"use strict";n.r(e);n("7844");var r=n("5596"),i=(n("4b0a"),n("2bb1")),s=(n("e17f"),n("2241")),c=(n("6894"),n("e11d")),o=(n("615f"),n("92e2")),a=(n("66cf"),n("343b")),u=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{include:["recommend","rank"]}},[n("router-view")],1),n("player")],1)},f=[],d=n("6ae5"),h={components:{Player:d["default"]},mounted:function(){window.onload=function(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.getElementsByTagName("html")[0];e.style.fontSize=t/10+"px",window.addEventListener("resize",function(t){var n=document.documentElement.clientWidth||document.body.clientWidth;e.style.fontSize=n/10+"px"})}}},m=h,A=n("2877"),p=Object(A["a"])(m,l,f,!1,null,null,null),g=p.exports,y=n("8c4f");u["a"].use(y["a"]);var v=new y["a"]({routes:[{path:"/",redirect:"/recommend"},{path:"/recommend",name:"recommend",component:function(){return n.e("chunk-f947b5c4").then(n.bind(null,"72c9"))},children:[{path:":id",name:"cdList",component:function(){return n.e("chunk-bc23d08e").then(n.bind(null,"bbf1"))}}]},{path:"/search",name:"search",component:function(){return n.e("chunk-26d3226e").then(n.bind(null,"794be"))},children:[{path:":id",name:"searchList",component:function(){return n.e("chunk-e781be9e").then(n.bind(null,"2dfc"))}}]},{path:"/rank",name:"rank",component:function(){return n.e("chunk-226781bf").then(n.bind(null,"0e05"))},children:[{path:":id",name:"musicList",component:function(){return n.e("chunk-f9645fb6").then(n.bind(null,"e757"))}}]},{path:"/singer",name:"singer",component:function(){return n.e("chunk-1cf91c70").then(n.bind(null,"2b27"))},children:[{path:":id",name:"singerList",component:function(){return n.e("chunk-385b126e").then(n.bind(null,"8eee"))}}]},{path:"/player",name:"player",component:function(){return Promise.resolve().then(n.bind(null,"6ae5"))}}]}),b=n("2f62"),L={sequence:0,loop:1,random:2},S={state:{playing:!1,rankListDetails:[],playList:[],musicList:{},cdList:{},singerList:{},fullScreen:!1,currentIndex:-1,mode:L.sequence,searchKey:null},mutations:{SET_PLAYING:function(t,e){t.playing=e},SET_PLAY_LIST:function(t,e){t.playList=e},SET_MUSIC_LIST:function(t,e){t.musicList=e},SET_CD_LIST:function(t,e){t.cdList=e},SET_SINGER_LIST:function(t,e){t.singerList=e},SET_FULL_SCREEN:function(t,e){t.fullScreen=e},SET_CURRENT_INDEX:function(t,e){t.currentIndex=e},SET_MODE:function(t,e){t.mode=e},SET_RANK_DETAILS:function(t,e){t.rankListDetails=e},SET_SEARCH_KEY:function(t,e){t.searchKey=e}},actions:{SET_PLAYING:function(t,e){var n=t.commit;return new Promise(function(t,r){n("SET_PLAYING",e),t()})},SET_RANK_DETAILS:function(t,e){var n=t.commit;return new Promise(function(t,r){n("SET_RANK_DETAILS",e),t()})},SET_PLAY_LIST:function(t,e){var n=t.commit;return new Promise(function(t,r){n("SET_PLAY_LIST",e),t()})},SET_MUSIC_LIST:function(t,e){var n=t.commit;return new Promise(function(t,r){n("SET_MUSIC_LIST",e),t()})},SET_CD_LIST:function(t,e){var n=t.commit;return new Promise(function(t,r){n("SET_CD_LIST",e),t()})},SET_SEARCH_KEY:function(t,e){var n=t.commit;return new Promise(function(t,r){n("SET_SEARCH_KEY",e),t()})}}},T=S,w={playing:function(t){return t.music.playing},rankListDetails:function(t){return t.music.rankListDetails},playList:function(t){return t.music.playList},musicList:function(t){return t.music.musicList},cdList:function(t){return t.music.cdList},singerList:function(t){return t.music.singerList},fullScreen:function(t){return t.music.fullScreen},currentIndex:function(t){return t.music.currentIndex},mode:function(t){return t.music.mode},searchKey:function(t){return t.music.searchKey},currentSong:function(t){return t.music.playList[t.music.currentIndex]||{}}},_=w;u["a"].use(b["a"]);var M=new b["a"].Store({modules:{music:T},getters:_}),C=n("9483");Object(C["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("7371"),n("aa47");var k=n("fe3c"),E=n.n(k);n("be35");u["a"].use(a["a"],{preLoad:1.3,error:n("0687"),loading:n("5d4b"),attempt:1}),u["a"].use(r["a"]).use(i["a"]).use(a["a"]).use(s["a"]).use(c["a"]).use(o["a"]),E.a.attach(document.body),u["a"].config.productionTip=!1,new u["a"]({router:v,store:M,render:function(t){return t(g)}}).$mount("#app")},"5d4b":function(t,e){t.exports="data:image/jpeg;base64,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"},"6a3e":function(t,e,n){},"6ae5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPlayer,expression:"showPlayer"}],on:{touchmove:function(t){t.preventDefault()}}},[n("transition",{attrs:{name:"play"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"player"},[n("div",{staticClass:"bg"},[n("img",{attrs:{width:"100%",height:"100%",src:t.currentSong.imgUrlBig}})]),n("div",{staticClass:"content"},[n("div",{staticClass:"top"},[n("div",{staticClass:"fontFamily top-left",on:{click:t.handleMini}},[t._v("")]),n("span",{staticClass:"song-name"},[t._v(t._s(t.currentSong.name))]),n("span",{staticClass:"singer-name"},[t._v(t._s(t.currentSong.singers))])]),n("div",{staticClass:"middle",on:{touchstart:function(e){return e.preventDefault(),t.middleTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.middleTouchMove(e)},touchend:t.middleTouchEnd}},[n("div",{ref:"middleL",staticClass:"middle-left"},[n("div",{staticClass:"pic",class:t.play},[n("img",{attrs:{width:"100%",height:"100%",src:t.currentSong.imgUrlBig,alt:""}})])]),n("m-scroll",{ref:"lyricList",staticClass:"middle-right",attrs:{data:t.currentLyric&&t.currentLyric.lines}},[n("div",{staticClass:"lyric-wraaper"},[t.currentLyric?n("div",t._l(t.currentLyric.lines,function(e,r){return n("p",{key:r,ref:"lyricLine",refInFor:!0,staticClass:"text",class:{current:t.currentLine===r}},[t._v(t._s(e.txt))])}),0):t._e()])])],1),n("div",{staticClass:"bottom"},[n("div",{staticClass:"dot-wrapper"},[n("span",{staticClass:"dot",class:{active:"cd"===t.currentShow}}),n("span",{staticClass:"dot",class:{active:"lyric"===t.currentShow}})]),n("div",{staticClass:"progress-wrapper"},[n("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(t.currentTime)))]),n("div",{staticClass:"progress-content"},[n("m-progress",{attrs:{percent:t.percent},on:{percentChange:t.changeProgress}})],1),n("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(t.duration)))])]),n("div",{staticClass:"btn-wrapper"},[n("div",{staticClass:"fontFamily btn-small",domProps:{innerHTML:t._s(t.modeIcon)},on:{click:t.changeMode}}),n("div",{staticClass:"fontFamily btn-middle",class:t.disableCls,on:{click:t.prev}},[t._v("")]),n("div",{staticClass:"fontFamily btn-big",class:t.disableCls,domProps:{innerHTML:t._s(t.playIcon)},on:{click:t.playSong}}),n("div",{staticClass:"fontFamily btn-middle",class:t.disableCls,on:{click:t.next}},[t._v("")]),n("div",{staticClass:"fontFamily btn-small",on:{click:t.showList}},[t._v("")])])])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"player-mini",on:{click:t.handleOpen}},[n("div",{staticClass:"left",class:t.play},[n("img",{staticClass:"pic-mini",attrs:{src:t.currentSong.imgUrlSmall,alt:""}})]),n("div",{staticClass:"middle"},[n("span",{staticClass:"middle-name-mini"},[t._v(t._s(t.currentSong.name)+" - "+t._s(t.currentSong.singers))])]),n("div",{staticClass:"right"},[n("div",{staticClass:"fontFamily btn-play",domProps:{innerHTML:t._s(t.playIcon)},on:{click:function(e){return e.stopPropagation(),t.playSong(e)}}}),n("div",{staticClass:"fontFamily btn-list",on:{click:function(e){return e.stopPropagation(),t.showListMini(e)}}},[t._v("")])])]),t.stateList?n("m-bottomlist",{attrs:{state:t.stateList,playList:t.playList,listClass:t.listClass,currentIndex:t.currentIndex},on:{close:t.closeList,playListMusic:t.playListMusic}}):t._e(),n("audio",{ref:"audio",attrs:{src:t.currentSongUrl},on:{canplay:t.ready,error:t.error,ended:t.end,timeupdate:t.updateTime}})],1)},i=[],s=n("cebc"),c=n("1857"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.progressClick}},[n("div",{staticClass:"bar-inner"},[n("div",{ref:"progress",staticClass:"progress"}),n("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper",on:{touchstart:function(e){return e.preventDefault(),t.progressTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.progressTouchMove(e)},touchend:t.progressTouchEnd}},[n("div",{staticClass:"progress-btn"})])])])},a=[],u=(n("c5f6"),16),l={props:{percent:{type:Number,default:0}},created:function(){this.touch={}},methods:{progressTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},progressTouchMove:function(t){if(this.touch.initiated){var e=t.touches[0].pageX-this.touch.startX,n=Math.min(this.$refs.progressBar.clientWidth-u,Math.max(0,this.touch.left+e));this._offset(n)}},progressTouchEnd:function(){this.touch.initiated=!1,this._triggerPercent()},progressClick:function(t){var e=this.$refs.progressBar.getBoundingClientRect(),n=t.pageX-e.left;this._offset(n),this._triggerPercent()},_triggerPercent:function(){var t=this.$refs.progressBar.clientWidth-u,e=this.$refs.progress.clientWidth/t;this.$emit("percentChange",e)},_offset:function(t){this.$refs.progress.style.width="".concat(t,"px"),this.$refs.progressBtn.style["transform"]="translate3d(".concat(t,"px,0,0)")}},watch:{percent:function(t){if(t>=0&&!this.touch.initiated){var e=this.$refs.progressBar.clientWidth-u,n=t*e;this._offset(n)}}}},f=l,d=(n("ae21"),n("2877")),h=Object(d["a"])(f,o,a,!1,null,"9cf6d9f0",null),m=h.exports,A=n("2f62"),p=n("27ae"),g=n("3c75"),y=n.n(g),v=n("0674"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"bg",on:{click:t.handleClose}}),n("transition",{attrs:{name:"bottom"}},[t.state?n("div",{staticClass:"bottom-wrapper",class:t.listClass},[n("m-scroll",{ref:"wrapper",staticClass:"scroll-wrapper",attrs:{data:t.playList}},[n("div",{staticClass:"wrapper"},t._l(t.playList,function(e,r){return n("div",{key:e.songName,ref:"music",refInFor:!0,staticClass:"music",class:[t.listClass,{first:0===r}],on:{click:function(n){return t.playMusic(r,e)}}},[n("span",{staticClass:"song",class:{current:t.currentIndex===r}},[t._v(t._s(e.title)+" - ")]),n("span",{staticClass:"singer",class:[t.listClass,{current:t.currentIndex===r}]},[t._v(t._s(e.singers))])])}),0)]),n("div",{staticClass:"close",on:{click:t.handleClose}},[t._v("关闭")])],1):t._e()])],1)},L=[],S={props:{playList:{type:Array,default:function(){return[]}},state:{type:Boolean,default:!1},listClass:{type:String,default:"black"},currentIndex:{type:Number,default:-1}},components:{MScroll:v["a"]},data:function(){return{}},created:function(){},watch:{currentIndex:{handler:function(){var t=this;setTimeout(function(){t.currentIndex>5?t.playList.length-t.currentIndex<4?t.$refs.wrapper.scrollTo(0,46*-(t.currentIndex-6),500):t.$refs.wrapper.scrollTo(0,46*-(t.currentIndex-3),500):t.$refs.wrapper.scrollTo(0,0,500)},100)},immediate:!0}},methods:{handleClose:function(){this.$emit("close")},playMusic:function(t,e){this.$emit("playListMusic",t,e)}}},T=S,w=(n("08f6"),Object(d["a"])(T,b,L,!1,null,"a8d567b6",null)),_=w.exports,M={components:{MProgress:m,MScroll:v["a"],MBottomlist:_},data:function(){return{currentTime:0,duration:0,songReady:!1,currentLyric:null,currentLine:0,currentShow:"cd",currentSongUrl:null,stateList:!1,listClass:"white",timer:null,timer1:null}},created:function(){this.touch={}},watch:{currentSong:function(t,e){var n=this;t.id&&t.id!==e.id&&(this.currentLyric&&(this.currentLyric.stop(),this.currentTime=0,this.currentLine=0,this.$refs.audio.currentTime=0),this._getSongLyric(),setTimeout(function(){n.$refs.audio.play()},1e3))},playing:function(t){var e=this;this.$nextTick(function(){var n=e.$refs.audio;t?n.play():n.pause()})}},computed:Object(s["a"])({play:function(){return this.playing?"play":"play pause"},playIcon:function(){return this.playing?"&#xe652;":"&#xe60c;"},modeIcon:function(){switch(this.mode){case 0:return"&#xe69d;";case 1:return"&#xe603;";default:return"&#xe605;"}},showPlayer:function(){return this.playList.length>0&&this.currentSongUrl},percent:function(){return this.currentTime/this.duration},disableCls:function(){return this.songReady?"":"disable"}},Object(A["b"])(["playing","fullScreen","currentIndex","playList","currentSong","mode"])),filters:{formatDate:function(t){t|=0;var e=t/60|0,n=t%60;return"".concat(e>9?e:"0"+e,":").concat(n>9?n:"0"+n)}},methods:{ready:function(){var t=this;this.songReady=!0,setTimeout(function(){t.duration=t.$refs.audio.duration},1e3)},playListMusic:function(t,e){this.$store.commit("SET_CURRENT_INDEX",t),this.$store.commit("SET_PLAYING",!0),this.stateList=!1},showList:function(){this.stateList=!0,this.listClass="black"},showListMini:function(){this.stateList=!0,this.listClass="white"},closeList:function(){this.stateList=!1},handleMini:function(){this.$store.commit("SET_FULL_SCREEN",!this.fullScreen)},handleOpen:function(){this.$store.commit("SET_FULL_SCREEN",!this.fullScreen)},playSong:function(){this.songReady&&(this.$store.commit("SET_PLAYING",!this.playing),this.currentLyric&&this.currentLyric.togglePlay())},next:function(){var t=this;null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){if(t.songReady)if(1!==t.playList.length){var e=t.currentIndex+1;e===t.playList.length&&(e=0),t.$store.commit("SET_CURRENT_INDEX",e),t.playing||t.playSong(),t.songReady=!1}else t.loop()},1e3)},prev:function(){var t=this;null!==this.timer1&&clearTimeout(this.timer1),this.timer1=setTimeout(function(){if(t.songReady)if(1!==t.playList.length){var e=t.currentIndex-1;-1===e&&(e=t.playList.length-1),t.$store.commit("SET_CURRENT_INDEX",e),t.playing||t.playSong(),t.songReady=!1}else t.loop()},1e3)},changeMode:function(){var t=(this.mode+1)%3;this.$store.commit("SET_MODE",t)},end:function(){switch(this.mode){case 0:this.next();break;case 1:this.loop();break;default:var t=Math.floor(Math.random()*this.playList.length);this.$store.commit("SET_CURRENT_INDEX",t),t===this.currentIndex&&(this.$refs.audio.currentTime=0,this.currentTime=0,this.currentLine=0,this.currentLyric.seek(0),this.$refs.audio.play());break}},loop:function(){this.$refs.audio.currentTime=0,this.currentTime=0,this.currentLine=0,this.currentLyric.seek(0),this.$refs.audio.play()},updateTime:function(t){this.currentTime=t.target.currentTime},changeProgress:function(t){var e=this.duration*t;this.$refs.audio.currentTime=e,this.playing||this.playSong(),this.currentLyric&&this.currentLyric.seek(1e3*e)},error:function(){this.songReady=!0},_getSongUrl:function(){var t=this,e={songmid:this.currentSong.mid},n=this;Object(c["l"])(e).then(function(e){""===e.data.midurlinfo[0].purl?(t.currentSongUrl="".concat(e.data.sip[0]).concat(e.data.midurlinfo[0].purl),t.$dialog.alert({message:"该歌曲暂时无法播放",confirmButtonColor:"#31c27c"}).then(function(){n.next()})):t.currentSongUrl="".concat(e.data.sip[0]).concat(e.data.midurlinfo[0].purl)})},_getSongLyric:function(){var t=this,e={songmid:this.currentSong.mid};this._getSongUrl(),Object(c["b"])(e).then(function(e){t.currentLyric=new y.a(p["Base64"].decode(e.data.lyric),t.handleLyric),0===t.currentLyric.lines.length&&(t.currentLyric.lines=[{time:0,txt:"此歌曲为没有填词的纯音乐，请您欣赏"}]),t.playing&&t.currentLyric.play()})},handleLyric:function(t){var e=t.lineNum;t.txt;if(this.currentLine=e,e>5){var n=this.$refs.lyricLine[e-5];this.$refs.lyricList.scrollToElement(n,1e3)}else this.$refs.lyricList.scrollTo(0,0,1e3)},middleTouchStart:function(t){this.touch.initiated=!0;var e=t.touches[0];this.touch.startX=e.pageX,this.touch.startY=e.pageY},middleTouchMove:function(t){if(this.touch.initiated){var e=t.touches[0],n=e.pageX-this.touch.startX,r=e.pageY-this.touch.startY;if(!(Math.abs(r)>Math.abs(n))){var i="cd"===this.currentShow?0:-window.innerWidth,s=Math.min(0,Math.max(-window.innerWidth,i+n));this.touch.percent=Math.abs(s/window.innerWidth),this.$refs.lyricList.$el.style["transform"]="translate3d(".concat(s,"px,0,0)"),this.$refs.lyricList.$el.style["transitionDuration"]=0,this.$refs.middleL.style.opacity=1-this.touch.percent,this.$refs.middleL.style["transitionDuration"]=0}}},middleTouchEnd:function(t){var e,n;"cd"===this.currentShow?this.touch.percent>.1?(e=-window.innerWidth,n=0,this.currentShow="lyric"):(e=0,n=1):this.touch.percent<.9?(e=0,this.currentShow="cd",n=1):(e=-window.innerWidth,n=0);var r=300;this.$refs.lyricList.$el.style["transform"]="translate3d(".concat(e,"px,0,0)"),this.$refs.lyricList.$el.style["transitionDuration"]="".concat(r,"ms"),this.$refs.middleL.style.opacity=n,this.$refs.middleL.style["transitionDuration"]="".concat(r,"ms"),this.touch.initiated=!1}}},C=M,k=(n("e427"),Object(d["a"])(C,r,i,!1,null,"ecb86d08",null));e["default"]=k.exports},7371:function(t,e,n){},aa47:function(t,e,n){},ae21:function(t,e,n){"use strict";var r=n("1351"),i=n.n(r);i.a},be35:function(t,e,n){},d077:function(t,e,n){},e427:function(t,e,n){"use strict";var r=n("6a3e"),i=n.n(r);i.a}});
//# sourceMappingURL=app.33a20624.js.map